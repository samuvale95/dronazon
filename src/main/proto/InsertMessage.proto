package com.example.grpc;

message Drone {
  optional int32 id = 1;
  optional string ip = 2;
  optional int32 port = 3;
}

message InsertRingRequest{
  optional Drone callerDrone = 1;
}

message InsertRingResponse{
  optional Drone nextDrone = 1;
  optional Drone masterDrone = 2;
}

service DroneService{
  //TODO compattare i due metodi, quando mi aggiungo alla rete restituisco il nodo master.
  rpc insertIntoRing(InsertRingRequest) returns(InsertRingResponse);
}